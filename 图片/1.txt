def main(){
    def light_control_var_id = values.light_control_var_id
    if(light_control_var_id==null) {
        throwTipError("参数light_control_var_id不正确，请确认")
    }
    def device_status = values.status
     if(device_status == null) {
        throwTipError("参数status不正确，请确认")
    }
    
    def map1 = ["id":light_control_var_id as int,"value":device_status]
    def list = new ArrayList()
    list.add(map1)
    mqttKits.publish('__TEST__','qinzr/output',list)   

    def status_value = device_status == 1 ? "NORMAL" : "STOP"
    modelRepo.with("device").update(values.id, ["device_status": status_value]) 